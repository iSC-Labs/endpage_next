!function(e){var t={speed:8,waitTime:3e3,position:"bottom",type:"overlay",topHTML:"Pull to Refresh",topUrl:"#",bottomHTML:"Hold to Next Page",bottomUrl:"#"};e.fn.endpage_next=function(n){function l(t){var n=".epn-nextpage.epn-top",i=r.bottomUrl;if(t=="bottom"){i=r.bottomUrl;n=".epn-nextpage:not(.epn-top)"}else{i=r.topUrl}e("<div class='epn-progresswrapper'><div id='epn-progressbar'></div></div>").appendTo(n);var s=e(n).find("#epn-progressbar"),o=0;s.width(o);a=setInterval(function(){o+=100/(r.waitTime/1e3);s.css("width",o+"%");if(o>=100){clearInterval(a);window.location.href=i}},1e3)}function c(t){var n=".epn-nextpage.epn-top";if(t=="bottom")n=".epn-nextpage:not(.epn-top)";e(n+" .epn-progresswrapper").remove();clearInterval(a)}var r=e.extend({},t,n),i=e(this),s=0,o="off",u=false,a;i.addClass("epn-container");e(".epn-container").wrapInner("<div class='epn-wrapper'></div>");e("<div class='epn-nextpage'>"+r.bottomHTML+"</div>").appendTo(i.find(".epn-wrapper"));if(r.position=="both")e("<div class='epn-nextpage epn-top'>"+r.topHTML+"</div>").appendTo(i.find(".epn-wrapper"));var f=e(".epn-nextpage").outerHeight(true);if(r.position=="top"){e(".epn-nextpage").addClass("epn-top");e(".epn-nextpage").html(r.topHTML)}e(document).scroll(function(t){var n=i.scrollTop(),o=i.scrollTop()+e(window).height()-i.height(),a=f*-1+o*r.speed,h=i.scrollTop()*-1,p=f*-1+h*r.speed;if(a>=0)a=0;if(p>=0)p=0;if(n>s){if(i.scrollTop()+e(window).height()>=i.height()){if(r.type=="push"){if(r.position=="bottom"||r.position=="both"){var d=o*r.speed*-1;if(d<=f*-1)d=f*-1;e(".epn-nextpage:not(.epn-top)").css({bottom:f*-1});i.find(".epn-wrapper").css({"-webkit-transform":"translate3d(0, "+d+"px, 0)","-moz-transform":"translate3d(0, "+d*-1+"px, 0)","-o-transform":"translate3d(0, "+d*-1+"px, 0)",transform:"translate3d(0, "+d*-1+"px, 0)"})}}else{e(".epn-nextpage:not(.epn-top)").css({bottom:a})}}else{if(u==false){if(r.type=="push"){if(r.position=="top"||r.position=="both"){var v=h*r.speed;if(v>=f)v=f;if(v<=0)v=0;e(".epn-nextpage.epn-top").css({top:f*-1});i.find(".epn-wrapper").css({"-webkit-transform":"translate3d(0, "+v+"px, 0)","-moz-transform":"translate3d(0, "+v+"px, 0)","-o-transform":"translate3d(0, "+v+"px, 0)",transform:"translate3d(0, "+v+"px, 0)"})}}else{e(".epn-nextpage.epn-top").css({top:p})}}}}else{if(i.scrollTop()+e(window).height()<i.height()){if(i.scrollTop()<=0){if(r.type=="push"){if(r.position=="top"||r.position=="both"){var d=h*r.speed;if(d>=f)d=f;e(".epn-nextpage.epn-top").addClass("epn-top").css({top:f*-1});i.find(".epn-wrapper").css({"-webkit-transform":"translate3d(0, "+d+"px, 0)","-moz-transform":"translate3d(0, "+d+"px, 0)","-o-transform":"translate3d(0, "+d+"px, 0)",transform:"translate3d(0, "+d+"px, 0)"})}}else{e(".epn-nextpage.epn-top").addClass("epn-top").css({top:p})}}}else{if(u==false){if(r.type=="push"){if(r.position=="bottom"||r.position=="both"){var v=o*r.speed*-1;if(v<=f*-1)v=f*-1;e(".epn-nextpage:not(.epn-top)").css({bottom:f*-1});i.find(".epn-wrapper").css({"-webkit-transform":"translate3d(0, "+v+"px, 0)","-moz-transform":"translate3d(0, "+v+"px, 0)","-o-transform":"translate3d(0, "+v+"px, 0)",transform:"translate3d(0, "+v+"px, 0)"})}}else{e(".epn-nextpage:not(.epn-top)").css({bottom:a})}}}}s=n;if(a==0||p==0){if(u==false){if(a==0)l("bottom");if(p==0)l("top");u=true}}else{if(u==true){if(a!=0)c("bottom");if(p!=0)c("top");u=false}}})}}(window.jQuery)